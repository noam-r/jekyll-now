---
layout: post_page
title: מהן כתובות IP ואיך עובד NAT
description: 
---

החיים בכלא של המשטר היו מסודרים מאוד. היו בו ארבעה אגפים, ובכל אגף היו 22 תאים. כדי לתאר את מיקומו של כל תא, השתמשו הסוהרים במספר האגף (1 עד 4), נקודה, ומספר התא. כך למשל, בלעם ישב בתא שסומן כ-1.6 (אגף אחד תא מספר שש), ולודה הוחזקה בתא 3.12 (אגף שלוש תא מספר שתים עשרה). כל מערכות הכלא התבססו על מערכת מיספור התאים הזו. מערכת חלוקת המזון, מערכת הדואר, מערכת העונשים, ועוד ועוד.

> באינטרנט מערכת המיספור הזו עובדת באופן דומה. כתובת של ציוד קצה שמחובר לרשת מתוארת באמצעות ארבעה מספרים בטווח של בין 0 ל-255 המופרדים בנקודות. כך למשל הכתובת של הציוד שמארח את הבלוג הזה היא 104.28.1.9, ובאמצעותה כל הדפדפנים שלכם יודעים להגיע אליו. כל כתובת כזו נקראת "כתובת IP", שזה קיצור של Internet Protocol.

> למה רק ארבעה מספרים בין 0 ל-255? זה הסבר קצת גדול לרשימה הזו, אבל בגדול את ארבעת המספרים האלה שיוצרים את הכתובת אפשר לתאר ב-32 ביטים (32-bits), שנותנים 4,294,967,296 כתובות אפשריות (או 232). פעם, כשהאינטרנט עוד היה בחיתולים, זה נראה מספר עצום, ובהחלט מספיק לחזון של מייסדיו.

{:refdef: style="text-align: center;"}
![NAT](/img/2018-05-06-01.jpg)
{: refdef}

הכל היה טוב ויפה עד שהמשטר האכזר החל לעצור יותר ויותר חברי מחתרת, והכלא הלך וגדל. ברם, מערכות השליטה של הכלא לא ידעו להסתדר עם כמות התאים החדשה, והסוהרים התקשו להשתמש במערכות כדי לנהל את החיים היומיומיים בכלא.

כך, למשל, כשלאגף שלוש הוספו עשרה תאים נוספים, הסוהרים הפכו את תא מספר 6 למעין "מרכזיה" לעשרת התאים החדשים. כל אחד מהתאים החדשים קיבל מספר חדש, שהיה ידוע רק להם, ומזון נשלח לתא מספר 6 חולק לכל אחד מהתאים בלי שהמערכת החיצונית הכירה אותם בכלל.

> הפרקטיקה הזו של כתובת אחת שמאחוריה מסתתרות כתובות נוספות נקראית NAT, קיצור של Network address translation. כשאתם מתחברים לאינטרנט מהבית שלכם אתם משתמשים בנתב (router), שמקבל מספק האינטרנט שלכם כתובת אחת בלבד, ובכל זאת אתם מצליחים לחבר לאינטרנט את המחשב השולחני, הלפטופ, הטאבלט, והטלפון. זה מתבצע באמצעות NAT. הנתב נותן למכשירים בבתיכם כתובות חדשות, פנימיות, שרק הם מכירים, וכשהם מבקשים להתקשר החוצה או לקבל חיבורים פנימה, הנתב "מתרגם" את הכתובות האלה לכתובת אחת שמאפשרת לכם לגלוש בשמחה.

ככל שגדל מספר התאים, כך התקשו הסוהרים לנהל את תתי המערכות האלה, ומכיוון שהמערכת הראשית של הכלא הכירה רק ארבעה אגפים, שבכל אגף 22 תאים, הם החלו להתלונן למפקד הכלא. אחרי שורה של דיונים הוא החליט שיש לתקן את המערכות הראשיות כך שיוכלו להכיל הרבה יותר תאים.

> וההחלטה הזו היא המעבר מ-IPv4, שזו מערכת הכתובות הנוכחית שמאפשרת כ-4 מיליארד כתובות (232), לגרסה חדשה ומעודכנת בשם החדשני IPv6, שבה אפשר יהיה לחלק לא פחות מ-340,282,366,920,938,463,463,374,607,431,768,211,456 כתובות (שזה 128 ביט, או 2128). במקום שכתובת תראה ככה: 104.28.1.9, מעכשיו היא הולכת להראות ככה: 2400:cb00:2048:1::681c:9. פחות ידידותי, אבל מאפשר לחבר כל מקרר, מכונת כביסה, בלנדר מוט, ואטב כביסה חכם לרשת בלי לחשוש שיגמרו הכתובות.

מעכשיו, חיכך מפקד הכלא את ידיו בערמומיות, לא יהיה גבול לכמות אסירי המחתרת שיוכל להחזיק בכלא.

---

אם יש נושאים שהייתם רוצים שלודה ובלעם יעסקו בהם, כמו למשל חוזים חכמים, סוגי מטבעות, צורות שונות של הצפנה, פרוטוקולים של תקשורת ברשת, וכל סוג של ירק שתרצו, תרגישו חופשיים להשאיר תגובות כאן למטה, והם ישקלו את העניין בחיוב.





